customElements.get("product-add-btn")||customElements.define("product-add-btn",class extends HTMLElement{constructor(){super(),this.addEventListener("click",this._onClick.bind(this))}_onClick(t){if(t.preventDefault(),this.classList.contains("loading"))return;this.setAttribute("aria-disabled",!0),this.classList.add("loading");const{id:e,qty:s,...i}=this.dataset;if(e)return this._addToCart({items:[{id:e,quantity:s||1,properties:i}]});console.log("Id is required")}async _addToCart(t){await fetch(`${window.Shopify.routes.root}cart/add.js`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{}).catch(t=>{console.error("Error:",t)});const e=await this._getCart().finally(()=>{this.classList.remove("loading"),this.removeAttribute("aria-disabled")});console.log("Cart",e)}async _getCart(){return await fetch(`${window.Shopify.routes.root}cart.js`).then(t=>t.json()).catch(t=>{console.error("Error:",t)})}});